{
  "id": "b8e91876-f4a0-4970-b0f0-4dbf1180bdba",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.aml_checks": {
      "name": "aml_checks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "check_type": {
          "name": "check_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "risk_level": {
          "name": "risk_level",
          "type": "aml_risk_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'low'"
        },
        "status": {
          "name": "status",
          "type": "aml_check_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "score": {
          "name": "score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "matches_found": {
          "name": "matches_found",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "false_positive": {
          "name": "false_positive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "external_service": {
          "name": "external_service",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "external_reference": {
          "name": "external_reference",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "external_response": {
          "name": "external_response",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "aml_checks_user_id_users_id_fk": {
          "name": "aml_checks_user_id_users_id_fk",
          "tableFrom": "aml_checks",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "aml_checks_transaction_id_transactions_id_fk": {
          "name": "aml_checks_transaction_id_transactions_id_fk",
          "tableFrom": "aml_checks",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "aml_checks_reviewed_by_users_id_fk": {
          "name": "aml_checks_reviewed_by_users_id_fk",
          "tableFrom": "aml_checks",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.card_transactions": {
      "name": "card_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "card_id": {
          "name": "card_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "card_transaction_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "card_transaction_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "crypto_amount": {
          "name": "crypto_amount",
          "type": "numeric(36, 18)",
          "primaryKey": false,
          "notNull": false
        },
        "crypto_currency": {
          "name": "crypto_currency",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "merchant_name": {
          "name": "merchant_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "merchant_category": {
          "name": "merchant_category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "merchant_country": {
          "name": "merchant_country",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false
        },
        "authorization_code": {
          "name": "authorization_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "reference_number": {
          "name": "reference_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_transaction_id": {
          "name": "provider_transaction_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "is_online": {
          "name": "is_online",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_contactless": {
          "name": "is_contactless",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "decline_reason": {
          "name": "decline_reason",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "card_transactions_card_id_cards_id_fk": {
          "name": "card_transactions_card_id_cards_id_fk",
          "tableFrom": "card_transactions",
          "tableTo": "cards",
          "columnsFrom": [
            "card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "card_transactions_user_id_users_id_fk": {
          "name": "card_transactions_user_id_users_id_fk",
          "tableFrom": "card_transactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cards": {
      "name": "cards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "card_type": {
          "name": "card_type",
          "type": "card_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "card_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'inactive'"
        },
        "card_number": {
          "name": "card_number",
          "type": "varchar(19)",
          "primaryKey": false,
          "notNull": false
        },
        "card_number_last4": {
          "name": "card_number_last4",
          "type": "varchar(4)",
          "primaryKey": false,
          "notNull": false
        },
        "cardholder_name": {
          "name": "cardholder_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_month": {
          "name": "expiry_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_year": {
          "name": "expiry_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cvv": {
          "name": "cvv",
          "type": "varchar(4)",
          "primaryKey": false,
          "notNull": false
        },
        "pin": {
          "name": "pin",
          "type": "varchar(6)",
          "primaryKey": false,
          "notNull": false
        },
        "daily_limit": {
          "name": "daily_limit",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1000.00'"
        },
        "monthly_limit": {
          "name": "monthly_limit",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'10000.00'"
        },
        "daily_spent": {
          "name": "daily_spent",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.00'"
        },
        "monthly_spent": {
          "name": "monthly_spent",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.00'"
        },
        "is_contactless": {
          "name": "is_contactless",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_online_enabled": {
          "name": "is_online_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_atm_enabled": {
          "name": "is_atm_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_frozen": {
          "name": "is_frozen",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "linked_wallet_id": {
          "name": "linked_wallet_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provider_card_id": {
          "name": "provider_card_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_data": {
          "name": "provider_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "shipping_address": {
          "name": "shipping_address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "activated_at": {
          "name": "activated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "cards_user_id_users_id_fk": {
          "name": "cards_user_id_users_id_fk",
          "tableFrom": "cards",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "cards_linked_wallet_id_wallets_id_fk": {
          "name": "cards_linked_wallet_id_wallets_id_fk",
          "tableFrom": "cards",
          "tableTo": "wallets",
          "columnsFrom": [
            "linked_wallet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.compliance_reports": {
      "name": "compliance_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "report_type": {
          "name": "report_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "report_period_start": {
          "name": "report_period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "report_period_end": {
          "name": "report_period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "report_data": {
          "name": "report_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_hash": {
          "name": "file_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submission_reference": {
          "name": "submission_reference",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "compliance_reports_submitted_by_users_id_fk": {
          "name": "compliance_reports_submitted_by_users_id_fk",
          "tableFrom": "compliance_reports",
          "tableTo": "users",
          "columnsFrom": [
            "submitted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.kyc_documents": {
      "name": "kyc_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "document_type": {
          "name": "document_type",
          "type": "kyc_document_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "document_number": {
          "name": "document_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "document_country": {
          "name": "document_country",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false
        },
        "document_expiry": {
          "name": "document_expiry",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_hash": {
          "name": "file_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "kyc_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "verification_notes": {
          "name": "verification_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "kyc_documents_user_id_users_id_fk": {
          "name": "kyc_documents_user_id_users_id_fk",
          "tableFrom": "kyc_documents",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "kyc_documents_verified_by_users_id_fk": {
          "name": "kyc_documents_verified_by_users_id_fk",
          "tableFrom": "kyc_documents",
          "tableTo": "users",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.kyc_verifications": {
      "name": "kyc_verifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "middle_name": {
          "name": "middle_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "nationality": {
          "name": "nationality",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false
        },
        "address_line1": {
          "name": "address_line1",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "address_line2": {
          "name": "address_line2",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "state_province": {
          "name": "state_province",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true
        },
        "verification_level": {
          "name": "verification_level",
          "type": "verification_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'basic'"
        },
        "status": {
          "name": "status",
          "type": "kyc_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "risk_score": {
          "name": "risk_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "source_of_funds": {
          "name": "source_of_funds",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "occupation": {
          "name": "occupation",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "annual_income": {
          "name": "annual_income",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "purpose_of_account": {
          "name": "purpose_of_account",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_pep": {
          "name": "is_pep",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sanctions_check_passed": {
          "name": "sanctions_check_passed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "enhanced_due_diligence": {
          "name": "enhanced_due_diligence",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verification_data": {
          "name": "verification_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "external_verification_id": {
          "name": "external_verification_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "kyc_verifications_user_id_users_id_fk": {
          "name": "kyc_verifications_user_id_users_id_fk",
          "tableFrom": "kyc_verifications",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "kyc_verifications_reviewed_by_users_id_fk": {
          "name": "kyc_verifications_reviewed_by_users_id_fk",
          "tableFrom": "kyc_verifications",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transaction_monitoring": {
      "name": "transaction_monitoring",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rule_triggered": {
          "name": "rule_triggered",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "risk_score": {
          "name": "risk_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "alert_level": {
          "name": "alert_level",
          "type": "aml_risk_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'low'"
        },
        "is_suspicious": {
          "name": "is_suspicious",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "requires_investigation": {
          "name": "requires_investigation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "auto_blocked": {
          "name": "auto_blocked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "investigated_by": {
          "name": "investigated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "investigated_at": {
          "name": "investigated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "investigation_notes": {
          "name": "investigation_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolution": {
          "name": "resolution",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "sar_filed": {
          "name": "sar_filed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sar_reference": {
          "name": "sar_reference",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "sar_filed_at": {
          "name": "sar_filed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "monitoring_data": {
          "name": "monitoring_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "external_alerts": {
          "name": "external_alerts",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "transaction_monitoring_transaction_id_transactions_id_fk": {
          "name": "transaction_monitoring_transaction_id_transactions_id_fk",
          "tableFrom": "transaction_monitoring",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transaction_monitoring_user_id_users_id_fk": {
          "name": "transaction_monitoring_user_id_users_id_fk",
          "tableFrom": "transaction_monitoring",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transaction_monitoring_investigated_by_users_id_fk": {
          "name": "transaction_monitoring_investigated_by_users_id_fk",
          "tableFrom": "transaction_monitoring",
          "tableTo": "users",
          "columnsFrom": [
            "investigated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transactions": {
      "name": "transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "wallet_id": {
          "name": "wallet_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "transaction_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "transaction_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "from_address": {
          "name": "from_address",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "to_address": {
          "name": "to_address",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(36, 18)",
          "primaryKey": false,
          "notNull": true
        },
        "fee": {
          "name": "fee",
          "type": "numeric(36, 18)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "gas_price": {
          "name": "gas_price",
          "type": "numeric(36, 18)",
          "primaryKey": false,
          "notNull": false
        },
        "gas_limit": {
          "name": "gas_limit",
          "type": "numeric(36, 18)",
          "primaryKey": false,
          "notNull": false
        },
        "gas_used": {
          "name": "gas_used",
          "type": "numeric(36, 18)",
          "primaryKey": false,
          "notNull": false
        },
        "nonce": {
          "name": "nonce",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "block_number": {
          "name": "block_number",
          "type": "numeric(20, 0)",
          "primaryKey": false,
          "notNull": false
        },
        "block_hash": {
          "name": "block_hash",
          "type": "varchar(66)",
          "primaryKey": false,
          "notNull": false
        },
        "transaction_hash": {
          "name": "transaction_hash",
          "type": "varchar(66)",
          "primaryKey": false,
          "notNull": false
        },
        "transaction_index": {
          "name": "transaction_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "network": {
          "name": "network",
          "type": "wallet_network",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "token_address": {
          "name": "token_address",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "token_symbol": {
          "name": "token_symbol",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "token_decimals": {
          "name": "token_decimals",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "confirmations": {
          "name": "confirmations",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_internal": {
          "name": "is_internal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "confirmed_at": {
          "name": "confirmed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "transactions_user_id_users_id_fk": {
          "name": "transactions_user_id_users_id_fk",
          "tableFrom": "transactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transactions_wallet_id_wallets_id_fk": {
          "name": "transactions_wallet_id_wallets_id_fk",
          "tableFrom": "transactions",
          "tableTo": "wallets",
          "columnsFrom": [
            "wallet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "phone_number": {
          "name": "phone_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "nationality": {
          "name": "nationality",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'user'"
        },
        "is_email_verified": {
          "name": "is_email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_phone_verified": {
          "name": "is_phone_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_kyc_verified": {
          "name": "is_kyc_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "kyc_level": {
          "name": "kyc_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "two_factor_enabled": {
          "name": "two_factor_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "two_factor_secret": {
          "name": "two_factor_secret",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": false
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "profile_picture_url": {
          "name": "profile_picture_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_language": {
          "name": "preferred_language",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'en'"
        },
        "preferred_currency": {
          "name": "preferred_currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'UTC'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.wallets": {
      "name": "wallets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "network": {
          "name": "network",
          "type": "wallet_network",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "private_key_encrypted": {
          "name": "private_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "public_key": {
          "name": "public_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "balance": {
          "name": "balance",
          "type": "numeric(36, 18)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "native_balance": {
          "name": "native_balance",
          "type": "numeric(36, 18)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "label": {
          "name": "label",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "derivation_path": {
          "name": "derivation_path",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "wallet_index": {
          "name": "wallet_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "wallets_user_id_users_id_fk": {
          "name": "wallets_user_id_users_id_fk",
          "tableFrom": "wallets",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.aml_check_status": {
      "name": "aml_check_status",
      "schema": "public",
      "values": [
        "pending",
        "passed",
        "failed",
        "manual_review"
      ]
    },
    "public.aml_risk_level": {
      "name": "aml_risk_level",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high",
        "critical"
      ]
    },
    "public.card_status": {
      "name": "card_status",
      "schema": "public",
      "values": [
        "active",
        "inactive",
        "blocked",
        "expired"
      ]
    },
    "public.card_transaction_status": {
      "name": "card_transaction_status",
      "schema": "public",
      "values": [
        "pending",
        "completed",
        "failed",
        "cancelled"
      ]
    },
    "public.card_transaction_type": {
      "name": "card_transaction_type",
      "schema": "public",
      "values": [
        "purchase",
        "withdrawal",
        "refund",
        "fee"
      ]
    },
    "public.card_type": {
      "name": "card_type",
      "schema": "public",
      "values": [
        "virtual",
        "physical"
      ]
    },
    "public.kyc_document_type": {
      "name": "kyc_document_type",
      "schema": "public",
      "values": [
        "passport",
        "drivers_license",
        "national_id",
        "utility_bill",
        "bank_statement"
      ]
    },
    "public.kyc_status": {
      "name": "kyc_status",
      "schema": "public",
      "values": [
        "pending",
        "under_review",
        "approved",
        "rejected",
        "expired"
      ]
    },
    "public.transaction_status": {
      "name": "transaction_status",
      "schema": "public",
      "values": [
        "pending",
        "confirmed",
        "failed",
        "cancelled"
      ]
    },
    "public.transaction_type": {
      "name": "transaction_type",
      "schema": "public",
      "values": [
        "send",
        "receive",
        "swap",
        "stake",
        "unstake",
        "bridge"
      ]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "user",
        "admin",
        "super_admin"
      ]
    },
    "public.verification_level": {
      "name": "verification_level",
      "schema": "public",
      "values": [
        "basic",
        "intermediate",
        "advanced"
      ]
    },
    "public.wallet_network": {
      "name": "wallet_network",
      "schema": "public",
      "values": [
        "ethereum",
        "bitcoin",
        "polygon",
        "bsc",
        "arbitrum",
        "optimism"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}